{% liquid
  assign id = section.id
%}

<style>
  .sec-{{ id }} {
    box-sizing: border-box;
    margin-top: {{section.settings.margin_top | append: 'px'}};
    margin-bottom: {{section.settings.margin_bottom | append: 'px'}};
    padding-top: {{section.settings.padding_top | append: 'px'}};
    padding-bottom: {{section.settings.padding_bottom | append: 'px'}};
  }
  .heading-{{ id }} h2{
      color: #000;
      text-align: center;
      font-family: var(--font-family-Title, "Sainte Colombe");
      font-size: var(--Font-Size-Heading-H2, 30px);
      font-style: normal;
      font-weight: 400;
      line-height: var(--Line-Height-Heading-H2, 36px); /* 120% */
      {% comment %} letter-spacing: -0.6px; {% endcomment %}
      em{
        font-style: normal;
        display: block;
        @media(max-width: 768px) {
          display: unset;
        }
      }
  }
  .wrapper-{{ id }} .img__wrapp img {
    width: 100%;
    height: auto;
    object-fit: cover;
    aspect-ratio: {{ section.settings.img_aspect }};
  }
  @media(min-width: 601px) {
    .sec-{{ id }} .swiper-wrapper {
        gap: 16px;
        flex-wrap: wrap;
    }
    .sec-{{ id }} .swiper-slide {
        flex: 0 0 calc(50% - 8px);
    }
  }
  @media(max-width: 600px) {
    .sec-{{ id }} {
      margin-top: {{section.settings.margin_top_m | append: 'px'}};
      margin-bottom: {{section.settings.margin_bottom_m | append: 'px'}};
      padding-top: {{section.settings.padding_top_m | append: 'px'}};
      padding-bottom: {{section.settings.padding_bottom_m | append: 'px'}};
    }
  }
</style>

<div class="sec-{{ id }}">
  <div class="{% unless section.settings.full_width %}page-width{% endunless %}">
    {% unless section.settings.title == blank %}
      <div class="heading-{{ id }}">
        <h2>{{ section.settings.title }}</h2>
      </div>
    {% endunless %}
    <div class="wrapper-{{ id }}">
      <div class="swiper">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            <div class="swiper-slide">
              {% if block.settings.img %}
                <div class="img__wrapp">
                  {{ block.settings.img | image_url: width: block.settings.img.width | image_tag }}
                </div>
              {% else %}
                <div class="img__wrapp">
                  <img
                    src="https://cdn.shopify.com/s/files/1/0031/4920/1526/files/Hero_Image_8.png?v=1744878587"
                    alt="placeholder hero"
                  >
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    if(screen.width <= 768) {
        new Swiper(".wrapper-{{ id }} .swiper", {
          slidesPerView: 1.2,
          spaceBetween: 16,
          loop: false,
          autoHeight: true,
          autoplay: {
            delay: 5000,
            disableOnInteraction: false
          },
      });
    }
  })
</script>

{% schema %}
{
  "name": "Multi Column",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width Section",
      "default": false
    },
    {
     "type": "inline_richtext",
      "id": "title",
      "label": "Title",
      "default": "Fall 2024 <em>Lookbook</em>"
    },
    {
      "type":"select",
      "id": "img_aspect",
      "label": "Image Size(Width x Height)",
      "options": [
        {
          "label": "1:1",
          "value": "1"
        },
        {
          "label": "3:4",
          "value": "3/4"
        },
        {
          "label": "4:3",
          "value": "4/3"
        }
      ]
    },
    {
      "type": "header",
      "content": "Section Spacing Desktop"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 80
    },
    {
      "type": "header",
      "content": "Section Spacing Mobile"
    },
    {
      "type": "range",
      "id": "margin_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom_m",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "img",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Multi Column",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
